{"ast":null,"code":"var _jsxFileName = \"F:\\\\UNIVERSIDAD\\\\8vo semestre\\\\Desarrollo Web\\\\Examen Final\\\\Proyecto\\\\react-firebase-images-gallery-complete-project\\\\src\\\\components\\\\crop\\\\CropEasy.js\",\n  _s = $RefreshSig$();\nimport { Cancel } from '@mui/icons-material';\nimport CropIcon from '@mui/icons-material/Crop';\nimport { Box, Button, DialogActions, DialogContent, Slider, Typography } from '@mui/material';\nimport React, { useState } from 'react';\nimport Cropper from 'react-easy-crop';\nimport { useAuth } from '../../context/AuthContext';\nimport getCroppedImg from './utils/cropImage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CropEasy = _ref => {\n  _s();\n  let {\n    photoURL,\n    setOpenCrop,\n    setPhotoURL,\n    setFile\n  } = _ref;\n  const {\n    setAlert,\n    setLoading\n  } = useAuth();\n  const [crop, setCrop] = useState({\n    x: 0,\n    y: 0\n  });\n  const [zoom, setZoom] = useState(1);\n  const [rotation, setRotation] = useState(0);\n  const [croppedAreaPixels, setCroppedAreaPixels] = useState(null);\n  const cropComplete = (croppedArea, croppedAreaPixels) => {\n    setCroppedAreaPixels(croppedAreaPixels);\n  };\n  const cropImage = async () => {\n    setLoading(true);\n    try {\n      const {\n        file,\n        url\n      } = await getCroppedImg(photoURL, croppedAreaPixels, rotation);\n      setPhotoURL(url);\n      setFile(file);\n      setOpenCrop(false);\n    } catch (error) {\n      setAlert({\n        isAlert: true,\n        severity: 'error',\n        message: error.message,\n        timeout: 5000,\n        location: 'modal'\n      });\n      console.log(error);\n    }\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(DialogContent, {\n      dividers: true,\n      sx: {\n        background: '#333',\n        position: 'relative',\n        height: 400,\n        width: 'auto',\n        minWidth: {\n          sm: 500\n        }\n      },\n      children: /*#__PURE__*/_jsxDEV(Cropper, {\n        image: photoURL,\n        crop: crop,\n        zoom: zoom,\n        rotation: rotation,\n        aspect: 1,\n        onZoomChange: setZoom,\n        onRotationChange: setRotation,\n        onCropChange: setCrop,\n        onCropComplete: cropComplete\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      sx: {\n        flexDirection: 'column',\n        mx: 3,\n        my: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          width: '100%',\n          mb: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            children: [\"Zoom: \", zoomPercent(zoom)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Slider, {\n            valueLabelDisplay: \"auto\",\n            valueLabelFormat: zoomPercent,\n            min: 1,\n            max: 3,\n            step: 0.1,\n            value: zoom,\n            onChange: (e, zoom) => setZoom(zoom)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            children: [\"Rotation: \", rotation + '°']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Slider, {\n            valueLabelDisplay: \"auto\",\n            min: 0,\n            max: 360,\n            value: rotation,\n            onChange: (e, rotation) => setRotation(rotation)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          gap: 2,\n          flexWrap: 'wrap'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          startIcon: /*#__PURE__*/_jsxDEV(Cancel, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 24\n          }, this),\n          onClick: () => setOpenCrop(false),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          startIcon: /*#__PURE__*/_jsxDEV(CropIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 24\n          }, this),\n          onClick: cropImage,\n          children: \"Crop\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(CropEasy, \"pVdx7uLA+K+sIiEJFlbnA4gxYEw=\", false, function () {\n  return [useAuth];\n});\n_c = CropEasy;\nexport default CropEasy;\nconst zoomPercent = value => {\n  return `${Math.round(value * 100)}%`;\n};\nvar _c;\n$RefreshReg$(_c, \"CropEasy\");","map":{"version":3,"names":["Cancel","CropIcon","Box","Button","DialogActions","DialogContent","Slider","Typography","React","useState","Cropper","useAuth","getCroppedImg","CropEasy","photoURL","setOpenCrop","setPhotoURL","setFile","setAlert","setLoading","crop","setCrop","x","y","zoom","setZoom","rotation","setRotation","croppedAreaPixels","setCroppedAreaPixels","cropComplete","croppedArea","cropImage","file","url","error","isAlert","severity","message","timeout","location","console","log","background","position","height","width","minWidth","sm","flexDirection","mx","my","mb","zoomPercent","e","display","gap","flexWrap","value","Math","round"],"sources":["F:/UNIVERSIDAD/8vo semestre/Desarrollo Web/Examen Final/Proyecto/react-firebase-images-gallery-complete-project/src/components/crop/CropEasy.js"],"sourcesContent":["import { Cancel } from '@mui/icons-material';\nimport CropIcon from '@mui/icons-material/Crop';\nimport {\n  Box,\n  Button,\n  DialogActions,\n  DialogContent,\n  Slider,\n  Typography,\n} from '@mui/material';\nimport React, { useState } from 'react';\nimport Cropper from 'react-easy-crop';\nimport { useAuth } from '../../context/AuthContext';\nimport getCroppedImg from './utils/cropImage';\n\nconst CropEasy = ({ photoURL, setOpenCrop, setPhotoURL, setFile }) => {\n  const { setAlert, setLoading } = useAuth();\n  const [crop, setCrop] = useState({ x: 0, y: 0 });\n  const [zoom, setZoom] = useState(1);\n  const [rotation, setRotation] = useState(0);\n  const [croppedAreaPixels, setCroppedAreaPixels] = useState(null);\n\n  const cropComplete = (croppedArea, croppedAreaPixels) => {\n    setCroppedAreaPixels(croppedAreaPixels);\n  };\n\n  const cropImage = async () => {\n    setLoading(true);\n    try {\n      const { file, url } = await getCroppedImg(\n        photoURL,\n        croppedAreaPixels,\n        rotation\n      );\n      setPhotoURL(url);\n      setFile(file);\n      setOpenCrop(false);\n    } catch (error) {\n      setAlert({\n        isAlert: true,\n        severity: 'error',\n        message: error.message,\n        timeout: 5000,\n        location: 'modal',\n      });\n      console.log(error);\n    }\n\n    setLoading(false);\n  };\n  return (\n    <>\n      <DialogContent\n        dividers\n        sx={{\n          background: '#333',\n          position: 'relative',\n          height: 400,\n          width: 'auto',\n          minWidth: { sm: 500 },\n        }}\n      >\n        <Cropper\n          image={photoURL}\n          crop={crop}\n          zoom={zoom}\n          rotation={rotation}\n          aspect={1}\n          onZoomChange={setZoom}\n          onRotationChange={setRotation}\n          onCropChange={setCrop}\n          onCropComplete={cropComplete}\n        />\n      </DialogContent>\n      <DialogActions sx={{ flexDirection: 'column', mx: 3, my: 2 }}>\n        <Box sx={{ width: '100%', mb: 1 }}>\n          <Box>\n            <Typography>Zoom: {zoomPercent(zoom)}</Typography>\n            <Slider\n              valueLabelDisplay=\"auto\"\n              valueLabelFormat={zoomPercent}\n              min={1}\n              max={3}\n              step={0.1}\n              value={zoom}\n              onChange={(e, zoom) => setZoom(zoom)}\n            />\n          </Box>\n          <Box>\n            <Typography>Rotation: {rotation + '°'}</Typography>\n            <Slider\n              valueLabelDisplay=\"auto\"\n              min={0}\n              max={360}\n              value={rotation}\n              onChange={(e, rotation) => setRotation(rotation)}\n            />\n          </Box>\n        </Box>\n        <Box\n          sx={{\n            display: 'flex',\n            gap: 2,\n            flexWrap: 'wrap',\n          }}\n        >\n          <Button\n            variant=\"outlined\"\n            startIcon={<Cancel />}\n            onClick={() => setOpenCrop(false)}\n          >\n            Cancel\n          </Button>\n          <Button\n            variant=\"contained\"\n            startIcon={<CropIcon />}\n            onClick={cropImage}\n          >\n            Crop\n          </Button>\n        </Box>\n      </DialogActions>\n    </>\n  );\n};\n\nexport default CropEasy;\n\nconst zoomPercent = (value) => {\n  return `${Math.round(value * 100)}%`;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}