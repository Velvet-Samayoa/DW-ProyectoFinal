{"ast":null,"code":"import { collection, doc, getDocs, query, updateDoc, where } from 'firebase/firestore';\nimport { db } from './config';\nconst updateUserRecords = (collectionName, uid, updatedObj) => {\n  return new Promise(async (resolve, reject) => {\n    const q = query(collection(db, collectionName), where('uid', '==', uid));\n    try {\n      const snapshot = await getDocs(q);\n      const updatePromises = [];\n      snapshot.forEach(document => {\n        updatePromises.push(updateDoc(doc(db, collectionName, document.id), updatedObj));\n      });\n      await Promise.all(updatePromises);\n      resolve();\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\nexport default updateUserRecords;","map":{"version":3,"names":["collection","doc","getDocs","query","updateDoc","where","db","updateUserRecords","collectionName","uid","updatedObj","Promise","resolve","reject","q","snapshot","updatePromises","forEach","document","push","id","all","error"],"sources":["F:/UNIVERSIDAD/8vo semestre/Desarrollo Web/Examen Final/Proyecto/react-firebase-images-gallery-complete-project/src/firebase/updateUserRecords.js"],"sourcesContent":["import {\n  collection,\n  doc,\n  getDocs,\n  query,\n  updateDoc,\n  where,\n} from 'firebase/firestore';\nimport { db } from './config';\n\nconst updateUserRecords = (collectionName, uid, updatedObj) => {\n  return new Promise(async (resolve, reject) => {\n    const q = query(collection(db, collectionName), where('uid', '==', uid));\n    try {\n      const snapshot = await getDocs(q);\n      const updatePromises = [];\n      snapshot.forEach((document) => {\n        updatePromises.push(\n          updateDoc(doc(db, collectionName, document.id), updatedObj)\n        );\n      });\n      await Promise.all(updatePromises);\n      resolve();\n    } catch (error) {\n      reject(error);\n    }\n  });\n};\n\nexport default updateUserRecords;\n"],"mappings":"AAAA,SACEA,UAAU,EACVC,GAAG,EACHC,OAAO,EACPC,KAAK,EACLC,SAAS,EACTC,KAAK,QACA,oBAAoB;AAC3B,SAASC,EAAE,QAAQ,UAAU;AAE7B,MAAMC,iBAAiB,GAAG,CAACC,cAAc,EAAEC,GAAG,EAAEC,UAAU,KAAK;EAC7D,OAAO,IAAIC,OAAO,CAAC,OAAOC,OAAO,EAAEC,MAAM,KAAK;IAC5C,MAAMC,CAAC,GAAGX,KAAK,CAACH,UAAU,CAACM,EAAE,EAAEE,cAAc,CAAC,EAAEH,KAAK,CAAC,KAAK,EAAE,IAAI,EAAEI,GAAG,CAAC,CAAC;IACxE,IAAI;MACF,MAAMM,QAAQ,GAAG,MAAMb,OAAO,CAACY,CAAC,CAAC;MACjC,MAAME,cAAc,GAAG,EAAE;MACzBD,QAAQ,CAACE,OAAO,CAAEC,QAAQ,IAAK;QAC7BF,cAAc,CAACG,IAAI,CACjBf,SAAS,CAACH,GAAG,CAACK,EAAE,EAAEE,cAAc,EAAEU,QAAQ,CAACE,EAAE,CAAC,EAAEV,UAAU,CAAC,CAC5D;MACH,CAAC,CAAC;MACF,MAAMC,OAAO,CAACU,GAAG,CAACL,cAAc,CAAC;MACjCJ,OAAO,EAAE;IACX,CAAC,CAAC,OAAOU,KAAK,EAAE;MACdT,MAAM,CAACS,KAAK,CAAC;IACf;EACF,CAAC,CAAC;AACJ,CAAC;AAED,eAAef,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}